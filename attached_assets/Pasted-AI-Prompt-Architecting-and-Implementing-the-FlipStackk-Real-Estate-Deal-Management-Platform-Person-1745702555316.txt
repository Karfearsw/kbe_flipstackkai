AI Prompt: Architecting and Implementing the FlipStackk Real Estate Deal Management Platform
Persona: Act as the Lead Software Architect and Senior Full-Stack Developer responsible for outlining the complete implementation plan for the FlipStackk Real Estate Deal Management Platform. Your task is to generate a comprehensive blueprint and potentially illustrative code snippets/configurations based strictly on the detailed requirements provided.
Project Goal: Design and outline the development process for FlipStackk, a robust, real-time, responsive real estate deal management platform. The platform must facilitate efficient lead tracking, call management, team performance monitoring, and deal progression visualization, all powered by live data.
Core Mandates & Constraints (Adhere Strictly):
Technology Stack:
Frontend: React, TypeScript, TailwindCSS
Backend: Express.js (with TypeScript)
Database: PostgreSQL
ORM: Drizzle ORM (with explicit relation modeling)
Real-time: WebSockets
Data Integrity: ABSOLUTELY NO MOCK DATA. All features must be designed to interact directly with the live PostgreSQL database from the outset.
Development Order (Blueprint Adherence - CRITICAL): Follow this exact sequence:
Database Schema & Integration (PostgreSQL + Drizzle)
Authentication System (Secure JWT/Session, Roles)
Base Layout & Navigation (Responsive)
Core Lead Management (CRUD, Search, Filter, Assign, CSV)
Real-time Dashboard Implementation (Stats, Metrics, Feed, Calls)
Call Tracking System (Logging, Scheduling, History)
Team Management & Gamification (Metrics, Leaderboards, Achievements)
WebSocket Integration (Live Updates, Notifications, Collaboration)
UI/UX Polishing & Styling Consistency
Comprehensive Testing (Cross-device, Roles)
User Experience: Ensure a fully responsive design (mobile-first) for seamless operation on mobile, tablet, and desktop devices.
Visual Theme: Implement a professional Red (#FF533E or similar prominent red), White, and Black color scheme. Red primarily for actions/buttons.
Detailed Implementation Requirements:
1. Database Architecture (PostgreSQL & Drizzle ORM):
* Define the schemas for the following tables, including appropriate data types, constraints, and explicit relations using Drizzle ORM:
* Users: (id, name, email, password_hash, role ENUM('admin', 'acquisitions', 'caller'), created_at, updated_at)
* Leads: (id, property_address, city, state, zip, owner_name, owner_phone, owner_email, status ENUM('new', 'contacted', 'follow-up', 'negotiation', 'under-contract', 'closed', 'dead'), estimated_value, assigned_to_user_id REFERENCES Users(id), source, notes, created_at, updated_at)
* Calls: (id, lead_id REFERENCES Leads(id), user_id REFERENCES Users(id), call_timestamp, duration_seconds, outcome ENUM('answered', 'voicemail', 'no_answer', 'wrong_number'), notes, created_at)
* ScheduledCalls: (id, lead_id REFERENCES Leads(id), assigned_caller_id REFERENCES Users(id), scheduled_time, status ENUM('pending', 'completed', 'missed'), notes, created_at, updated_at)
* TeamMembers: (user_id REFERENCES Users(id) PRIMARY KEY, total_calls, total_leads_converted, total_revenue_generated, current_deals_value, last_activity_at) - Consider if this should be derived or stored; assume stored for metrics focus based on prompt.
* Activities: (id, user_id REFERENCES Users(id), action_type TEXT, target_type TEXT, target_id INTEGER, description TEXT, timestamp)
* Achievements: (id, name, description, criteria TEXT, icon_url)
* UserAchievements: (user_id REFERENCES Users(id), achievement_id REFERENCES Achievements(id), awarded_at)
* Provide example Drizzle schema definitions and relation configurations.
2. Authentication & Authorization:
* Outline a secure authentication system (JWT preferred, or session-based) using established libraries (e.g., Passport.js, bcrypt).
* Detail the implementation of role-based access control (RBAC) restricting access based on 'admin', 'acquisitions', 'caller' roles.
* Design the Login Page UI (Flipstackk branding, Red action button).
* Describe profile management functionality (e.g., password change).
3. Core Feature Implementation Strategy:
* Dashboard: Specify data fetching (real-time via WebSockets where applicable), component structure for stats (leads, deals, revenue), team performance widgets, recent activity feed (from Activities table), and upcoming calls (from ScheduledCalls).
* Lead Management: Detail the API endpoints (Express.js) and frontend components (React/TypeScript) for full CRUD operations on Leads. Include logic for status updates, assignment (linking to Users), search/filtering implementation, and CSV import/export handling.
* Visual Pipeline: Describe the implementation of a Kanban board (e.g., using react-beautiful-dnd or similar). Detail how drag-and-drop updates the Leads.status in the database and how deal values are displayed/calculated per stage.
* Call System: Outline the process for logging calls (Calls table), scheduling follow-ups (ScheduledCalls), displaying call history per lead, and calculating caller performance metrics.
* Team Management: Explain how to query and display performance leaderboards (using TeamMembers or derived data), individual call/deal metrics, and the achievement/badge system (linking UserAchievements to Achievements).
* Real-time Functionality (WebSockets): Detail the WebSocket setup (e.g., using socket.io or ws). Specify events for live updates (e.g., lead status change, new call logged, new activity), real-time notifications, and potential "presence" features (who is viewing which lead).
4. Interface Design & Responsiveness:
* Describe the base layout structure (Sidebar for desktop, Hamburger for mobile).
* Specify reusable UI components (Buttons, Cards, Forms, Data Tables) styled with TailwindCSS according to the Red/White/Black theme.
* Emphasize the mobile-first approach and how layouts adapt across breakpoints.
* Detail form validation strategies.
5. Technical Best Practices & Pitfalls:
* Reiterate the critical need to avoid pitfalls:
* No sensitive data in localStorage.
* Use React Context API or state management (like Zustand/Redux) to avoid prop drilling.
* Optimize database queries (prevent N+1 issues, use Drizzle effectively).
* Use standard authentication libraries.
* Use environment variables for configuration (API endpoints, secrets).
* Never expose credentials client-side.
* Optimize React components to prevent unnecessary re-renders (use React.memo, useCallback, etc.).
* Maintain a single, consistent authentication strategy.
Output Expectation:
Generate a detailed, structured document outlining the architectural approach, database schema definitions (using Drizzle syntax examples), API endpoint design considerations, frontend component strategy, real-time implementation details, and key considerations for adhering to the development process and avoiding pitfalls. Focus on providing a clear roadmap for building the FlipStackk platform according to the specified requirements, emphasizing the REAL DATA connection and the mandated BLUEPRINT ORDER.